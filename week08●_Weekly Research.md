### <2D 디지털 합성_8주차 Weekly Research>



- 키작업 을 하는것 = 알파를 만드는 것, 알파를 추출하기 위함 
- denoise=영상의 화질을 좀더 눌러주는것. 그러나 영상이 훼손될 수 있다.  
- 원본에다가 최대한 변형을 가하지 않도록 아예 원본에서 떨어져나와 알파를 만들어야한다. 노드 가짓수 제대로 나누기


- 노드 그래프는 길이가 무한대니까 최대한 넓게넓게 쓰기 


### - w키로 wipe키: 효과 적용전 과 효과 전용 후를 간단히 비교할 수 있는 기능 

### - difference : 두개 인풋의 차이 값을 알파로 만들어준다

### - Backdrop : 노드정리를 하는 데에 사용. 메모장 같은 역할 자주자주 활용하기
#### -- 각 노드에 라벨을 달수있다. 노드 정리할 때 활용하기 

- keymix 노드의 구성                
  A   B    Mask :마스크는 a라는 인풋을 지정할때 쓴다 
  
  
  
- IBK키어 기즈모: IBK컬러랑 세트로 사용이 된다/ 인물 키잉할때는 IBK를 많이쓰는 추세다 


## grade node 
-  merge만큼grade노드를 많이 쓷다 - 색보정, 플레이트의 화이트밸런스를 맞춰준다 세츄레이션을 맞출때 활용 

<p align="center"><img src="https://user-images.githubusercontent.com/112764860/208287773-cd1e64c4-5b2e-4621-8e24-6c3001205855.png" width="60%" height="60%"/></p>



### -black point 와 white point: 선택한 픽셀을 화이트/블랙으로 인식하게 만드는 기능 


일반적으로 명암의 영역을 나눌때 
섀도우 어두운 부분, 미드 톤, 하이라이트 로 나누어진다
***
### - lift : 섀도우 영역 담당, 어두운 부분을 담당하는 색 영역 
### - gain :  하이라이트 담당 
### - gamma : 중간 톤 담당 
### - offset : 입력하는 수치만큼 좌우로 이동시키게 해준다 (값이 그래도 이동된다)
***
lift->gain->gamma 순서로 색을 조정한다.
- 감마는 곡선으로 그래프가 들어가서 되돌리기가 어려워진다 


- constant 노드 -단색을 표현하는 노드

## grade를 이용해 색 보정 하기 
- rgb 채널을 각각 조절해준다  

- lift 랑 gain gamma만 이용해서 맞춰준다  

- lift와 gain의 각각의 rgb채널 맞추기  
- life는 어두운 곳 의 rgb맞추기  
- gain는 밝은 곳의 rgb 맞추기 

인물의 피부에 맞출것이냐 
하이라이트에 인물을 맞출것이냐 정해야한다 

## 화면 포맷 맞추기 

- 사용하는 플레이트 간의 포맷이 맞지 않는 경우가 생긴다. 이럴 때 Transform, reformat을 이용해 화면의 비율을 맞춰준다 

## 영상 렌더링 후 출력하기 

<p align="center"><img src="https://user-images.githubusercontent.com/112764860/208287404-9745772b-1003-4187-833d-33f1b1787f29.png" width="60%" height="60%"/></p>

- wirte 노드를 사용

- 파일 이름에 확장자명까지 적어서 저장 (ex- test_render.mov)
- file type을 정하고 추력할 프레임 및 초프레임 설정 -> render 클릭 후 출력

### [누크 안에서 영상들을 순서대로 이어붙일 수 있다] ->  appendclip 노드를 이용  

## [중간 발표 때 사용했던 누크과정 기록]

### 아이의 움직임을 먼저 파악해 가장자리 파트 나누기 
- VR기기는 인공적인 사물이니까 큰 덩어리로 나누어서 로토를 움직이고 인물은 가장자리의 곡선과 ,옷주름 관절을 따라 로토 덩어리를 나누었다.    
- 1 , 10 프레임 따고 그 중간 5프레임을 따고, 또 그 사이의 프레임을 따는 식으로 구역을 정해 프레임을 좁혀가는 로토를 따야 그나마 나중에 수정도 쉽고 빠르게 작업할 수 있는 것 같다.
### 로토를 딴 후의 합성을 생각하여 바닥까지 로토를 따 그림자를 유지하도록 하기 / e키를 이용해 가장자리 블러처리
- 이후에 자연스럽게 합성되도록 비슷한 plate를 사용  
<p align="center"><img src="https://user-images.githubusercontent.com/112764860/208288519-9c6e3893-e40c-4aca-a819-6deb95b63d54.png" width="60%" height="60%"/></p>

### 매트 페인트 + 2.5D 카메라 워크 사용하기

- 매트 레이어 사이사이에 로토를 딴 소스와 크로마키를 한 소스들을 섞어서 넣고싶어 3D공간 만들어서 카메라가 이동하도록 연출했다.  

- 포토샵에서 매트 페인트 배경을 만들고 psd로 저장한 뒤 누크 안에서 export 했다.   


<p align="center"><img src="https://user-images.githubusercontent.com/112764860/208288432-663f6192-b606-4d8c-b8f0-8831b04d18b9.png" width="60%" height="60%"/></p>

-  준비해둔 로토,크로마키 소스들도 card 노드들과 연결 후 scene에 배치했더니 원했던 모양이 나왔다. (매트 페인트 배경 사이사이로 움직이는 소스들)  
- 다만, 레이어 간의 간격이 좁아 그렇게 효과적인 공간감이 나질 않았다. 다음에는 레이어 별로 크기를 키우고 간격을 넓혀보도록 할 것이다.  
<p align="center"><img src="https://user-images.githubusercontent.com/112764860/208289046-650ea114-2832-4098-be64-d3f6d1aae60a.png" width="60%" height="60%"/></p>

<p align="center"><img src="https://user-images.githubusercontent.com/112764860/208289015-de958893-a048-4a0e-a086-60fe2c4a00ad.png" width="60%" height="60%"/></p>


